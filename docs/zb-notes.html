<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Zane’s notes • agdist</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png"><script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Zane’s notes"><meta property="og:image" content="https://ahgroup.github.io/agdist/index.html/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">agdist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="index.html" aria-label="Return to homepage"><span class="fa fa-home fa-lg"></span></a></li>
<li class="nav-item"><a class="nav-link" href="articles/quickstart.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-tutorials" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Tutorials</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-tutorials"><li><a class="dropdown-item" href="articles/quickstart.html">Get started</a></li>
    <li><a class="dropdown-item" href="articles/moredetails.html">More details</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/ahgroup/agdist" aria-label="View source code on GitHub"><span class="fa fab fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-title-body">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="logo.png" class="logo" alt=""><h1>Zane’s notes</h1>
      <small class="dont-index">Source: <a href="https://github.com/ahgroup/agdist/blob/HEAD/zb-notes.md" class="external-link"><code>zb-notes.md</code></a></small>
    </div>

<div id="zanes-notes" class="section level1">

<ul><li>Data importing
<ul><li>right now I think this should be the user’s job. All of our functions should accept a character vector of aligned sequences as the argument.</li>
<li>Importing and aligning the sequences shouldn’t be a job for this package, there are already multiple specialized packages for that.</li>
</ul></li>
<li>Simple distances
<ul><li>right now all of the sequences accept a character vector and they compute distances pairwise between each entry. I think ideally each function should have a <code><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor()</a></code> style <code>x</code> and <code>y</code> argument where the default for <code>y</code> is <code>NULL</code>, and if you specify both <code>x</code> and <code>y</code> the function computes the distances with elementwise comparisons (i.e. <code>dist(x[1], y[1]), dist(x[2], y[2]), ...</code>) instead of only having the pairwise option.</li>
<li>string distances: basically just an interface to <code>stringdist</code> that does some preprocessing, it’s written so that anything in the <code>...</code> gets passed to the stringdist function. Right now they get automatically length-normalized but it should probably be an argument for whether they get normalized.</li>
<li>specialized sequence distances
<ul><li>I didn’t write the p-epitopes the crazy way Andreas wanted to, so if he wants users to be able to supply their own sites he needs to add that functionality. It doesn’t even really make sense to do p-epitope on B strains either.</li>
<li>dominant pepitope</li>
<li>p-all-epitope</li>
<li>grantham</li>
<li>FLU sub</li>
</ul></li>
<li>temporal distance: will extract the years from a named sequence vector.
<ul><li>also probably needs to have a method for strain names, and a method for a vector of years.</li>
<li>It should probably try to autodetect, but also allow users to manually specify which. Or we can expose the extract_years() function to users and only allow actual numbers into the temporal distance calculation function, and require users to do it as a processing step.</li>
<li>but the main method for <code>compute_distances()</code> will look at the names.</li>
</ul></li>
</ul></li>
<li>Model-based distances
<ul><li>these functions need</li>
<li>trees: this package shouldn’t build trees for users, there’s already a lot of packages to do that. unfortunately there’s not as much standardization for trees, so we probably just have to write multiple methods to support multiple different tree formats. we can start by supporting the R package phangorn and provide instructions for a decent default tree, but building the tree isn’t really our job and we aren’t experts.</li>
<li>cartography: our package shouldn’t build cartographies for users. We should tell them to use Racmacs. Instead, our distance function will accept a Racmacs output file (typically .acmap) or racmacs object as the input.</li>
</ul></li>
<li>Wrapper: <code>compute_distances()</code> should take a named sequence vector <code>x</code> as the first input. The names should correspond to strain names, and the values should be the ALIGNED protein sequences. This will also have to have a <code>...</code> argument to pass specific other details to the other distance functions. It will only be able to compute one distance at a time unless we can come up with a different API that works for all distances without overloading the <code>...</code>.</li>
</ul></div>

  </main></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Zane Billings, Andreas Handel.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

